package com.example.contactapp.utilsimport android.content.Contextimport android.content.SharedPreferencesimport com.example.contactapp.models.MyContactimport com.google.gson.Gsonimport com.google.gson.reflect.TypeTokenobject Mys {    private const val NAME = "catch_file_name"    private const val MODE = Context.MODE_PRIVATE    private lateinit var preferences: SharedPreferences    fun init(context: Context) {        preferences = context.getSharedPreferences(NAME, MODE)    }    private inline fun SharedPreferences.edit(operation: (SharedPreferences.Editor) -> Unit) {        val editor = edit()        operation(editor)        editor.apply()    }    var contactList: ArrayList<MyContact>        get() = gsonStringToList(preferences.getString("contactList", "[]")!!)        set(value) = preferences.edit {            it.putString("contactList", listToGsonString(value))        }    private fun gsonStringToList(gsonString: String): ArrayList<MyContact>{        val list = ArrayList<MyContact>()        val type = object : TypeToken<ArrayList<MyContact>>() {}.type        list.addAll(Gson().fromJson(gsonString, type))        return list    }    private fun listToGsonString(list:ArrayList<MyContact>): String{        return Gson().toJson(list)    }}